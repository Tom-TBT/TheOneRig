---

title: modelling

keywords: fastai
sidebar: home_sidebar

summary: "Modelling the response of the retinal cells to the stimuli"
description: "Modelling the response of the retinal cells to the stimuli"
---
<!--

#################################################
### THIS FILE WAS AUTOGENERATED! DO NOT EDIT! ###
#################################################
# file to edit: 03_modelling.ipynb
# command to build the docs after a change: nbdev_build_docs

-->

<div class="container" id="notebook-container">
        
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="o">%</span><span class="k">load_ext</span> autoreload
<span class="o">%</span><span class="k">autoreload</span> 2
</pre></div>

    </div>
</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="kn">from</span> <span class="nn">theonerig.core</span> <span class="kn">import</span> <span class="o">*</span>
<span class="kn">from</span> <span class="nn">theonerig.processing</span> <span class="kn">import</span> <span class="o">*</span>
<span class="kn">from</span> <span class="nn">theonerig.utils</span> <span class="kn">import</span> <span class="o">*</span>
<span class="kn">from</span> <span class="nn">theonerig.plotting</span> <span class="kn">import</span> <span class="o">*</span>
</pre></div>

    </div>
</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="sigmoid" class="doc_header"><code>sigmoid</code><a href="https://github.com/Tom-TBT/theonerig/tree/master/theonerig/modelling.py#L17" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>sigmoid</code>(<strong><code>x</code></strong>, <strong><code>sigma</code></strong>, <strong><code>amp</code></strong>, <strong><code>x0</code></strong>, <strong><code>y0</code></strong>)</p>
</blockquote>
<p>Sigmoid function
params:</p>

<pre><code>- x: 1D numpy array at which to evaluate the points
- sigma: steepness of the sigmoid
- amp: amplitude of the sigmoid
- x0: shift in x of the sigmoid
- y0: shift in y of the sigmoid</code></pre>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="gaussian" class="doc_header"><code>gaussian</code><a href="https://github.com/Tom-TBT/theonerig/tree/master/theonerig/modelling.py#L29" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>gaussian</code>(<strong><code>x</code></strong>, <strong><code>sigma</code></strong>, <strong><code>amp</code></strong>, <strong><code>x0</code></strong>, <strong><code>y0</code></strong>)</p>
</blockquote>
<p>Gaussian function
params:</p>

<pre><code>- x: 1D numpy array at which to evaluate the points
- sigma: width of the gaussian
- amp: amplitude of the gaussian
- x0: shift in x of the gaussian
- y0: shift in y of the gaussian</code></pre>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="gaussian_2D" class="doc_header"><code>gaussian_2D</code><a href="https://github.com/Tom-TBT/theonerig/tree/master/theonerig/modelling.py#L41" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>gaussian_2D</code>(<strong><code>xz</code></strong>, <strong><code>sigma_x</code></strong>, <strong><code>sigma_z</code></strong>, <strong><code>amp</code></strong>, <strong><code>theta</code></strong>, <strong><code>x0</code></strong>, <strong><code>z0</code></strong>, <strong><code>y0</code></strong>)</p>
</blockquote>
<p>Two dimensional Gaussian function
params:</p>

<pre><code>- xz: meshgrid of x and z coordinates at which to evaluate the points
- sigma_x: width of the gaussian
- sigma_z: height of the gaussian
- amp: amplitude of the gaussian
- theta: angle of the gaussian (in radian)
- x0: shift in x of the gaussian
- z0: shift in z of the gaussian
- y0: shift in y of the gaussian</code></pre>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="sum_of_gaussian" class="doc_header"><code>sum_of_gaussian</code><a href="https://github.com/Tom-TBT/theonerig/tree/master/theonerig/modelling.py#L61" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>sum_of_gaussian</code>(<strong><code>t</code></strong>, <strong><code>sigma_1</code></strong>, <strong><code>amp_1</code></strong>, <strong><code>x0_1</code></strong>, <strong><code>sigma_2</code></strong>, <strong><code>amp_2</code></strong>, <strong><code>x0_2</code></strong>, <strong><code>y0</code></strong>)</p>
</blockquote>
<p>Sum of gaussian, using the gaussian function
    params:</p>

<pre><code>- t: 1D numpy array at which to evaluate the points
- sigma_1: width of the 1st gaussian
- amp_1: amplitude of the 1st gaussian
- x0_1: shift in x of the 1st gaussian
- sigma_2: width of the 2nd gaussian
- amp_2: amplitude of the 2nd gaussian
- x0_2: shift in x of the 2nd gaussian
- y0: shift in y of the gaussian</code></pre>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="sum_of_2D_gaussian" class="doc_header"><code>sum_of_2D_gaussian</code><a href="https://github.com/Tom-TBT/theonerig/tree/master/theonerig/modelling.py#L77" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>sum_of_2D_gaussian</code>(<strong><code>xz</code></strong>, <strong><code>sigma_x_1</code></strong>, <strong><code>sigma_z_1</code></strong>, <strong><code>amp_1</code></strong>, <strong><code>theta_1</code></strong>, <strong><code>x0_1</code></strong>, <strong><code>z0_1</code></strong>, <strong><code>sigma_x_2</code></strong>, <strong><code>sigma_z_2</code></strong>, <strong><code>amp_2</code></strong>, <strong><code>theta_2</code></strong>, <strong><code>x0_2</code></strong>, <strong><code>z0_2</code></strong>, <strong><code>y0</code></strong>)</p>
</blockquote>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="fit_sigmoid" class="doc_header"><code>fit_sigmoid</code><a href="https://github.com/Tom-TBT/theonerig/tree/master/theonerig/modelling.py#L84" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>fit_sigmoid</code>(<strong><code>nonlin</code></strong>, <strong><code>t</code></strong>=<em><code>None</code></em>)</p>
</blockquote>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="fit_spatial_sta" class="doc_header"><code>fit_spatial_sta</code><a href="https://github.com/Tom-TBT/theonerig/tree/master/theonerig/modelling.py#L96" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>fit_spatial_sta</code>(<strong><code>sta</code></strong>)</p>
</blockquote>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="fit_temporal_sta" class="doc_header"><code>fit_temporal_sta</code><a href="https://github.com/Tom-TBT/theonerig/tree/master/theonerig/modelling.py#L148" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>fit_temporal_sta</code>(<strong><code>sta</code></strong>)</p>
</blockquote>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="sin_exponent" class="doc_header"><code>sin_exponent</code><a href="https://github.com/Tom-TBT/theonerig/tree/master/theonerig/modelling.py#L175" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>sin_exponent</code>(<strong><code>x</code></strong>, <strong><code>amp</code></strong>, <strong><code>phi</code></strong>, <strong><code>freq</code></strong>, <strong><code>exp</code></strong>)</p>
</blockquote>
<p>Sine raised to an exponent power. To the power 2, the sine is going between 0 and 1
while its period is halfed. Subsequent round powers have the effect of narowing the peaks
and making the rest of the sine approach zero. (graph it to see it)</p>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="sinexp_gauss" class="doc_header"><code>sinexp_gauss</code><a href="https://github.com/Tom-TBT/theonerig/tree/master/theonerig/modelling.py#L184" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>sinexp_gauss</code>(<strong><code>x</code></strong>, <strong><code>sigma</code></strong>, <strong><code>x0</code></strong>, <strong><code>amp</code></strong>, <strong><code>phi</code></strong>, <strong><code>freq</code></strong>, <strong><code>exp</code></strong>)</p>
</blockquote>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="sinexp_sigm" class="doc_header"><code>sinexp_sigm</code><a href="https://github.com/Tom-TBT/theonerig/tree/master/theonerig/modelling.py#L187" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>sinexp_sigm</code>(<strong><code>x</code></strong>, <strong><code>sigma</code></strong>, <strong><code>x0</code></strong>, <strong><code>y0</code></strong>, <strong><code>amp</code></strong>, <strong><code>phi</code></strong>, <strong><code>freq</code></strong>, <strong><code>exp</code></strong>)</p>
</blockquote>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="fit_chirp_am" class="doc_header"><code>fit_chirp_am</code><a href="https://github.com/Tom-TBT/theonerig/tree/master/theonerig/modelling.py#L190" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>fit_chirp_am</code>(<strong><code>cell_mean</code></strong>, <strong><code>start</code></strong>=<em><code>420</code></em>, <strong><code>stop</code></strong>=<em><code>960</code></em>, <strong><code>freq</code></strong>=<em><code>1.5</code></em>)</p>
</blockquote>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="fit_chirp_freq_epoch" class="doc_header"><code>fit_chirp_freq_epoch</code><a href="https://github.com/Tom-TBT/theonerig/tree/master/theonerig/modelling.py#L225" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>fit_chirp_freq_epoch</code>(<strong><code>cell_mean</code></strong>, <strong><code>freqs</code></strong>=<em><code>[1.875, 3.75, 7.5, 15, 30]</code></em>, <strong><code>durations</code></strong>=<em><code>[2, 2, 2, 1, 1]</code></em>)</p>
</blockquote>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

</div>
 

